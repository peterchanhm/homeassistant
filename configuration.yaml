##########################################################
## Remote Access & IP Ban
##########################################################


http:
  base_url: !secret base_url
  ip_ban_enabled: true
  login_attempts_threshold: 3


##########################################################
## Themes
##########################################################


frontend:
  themes: !include themes.yaml
  javascript_version: latest


##########################################################
## Cloud
##########################################################


cloud:
  google_actions:
    filter:
      include_entities:
        - light.basement_5
        - light.front_entry
        - light.office
        - light.half_bath
        - light.common_area
        - light.dining
        - light.kitchen
        - light.mudroom
        - light.loft
        - light.laundry
        - light.second_bedroom
        - light.third_bedroom
        - light.master_closet
        - light.maseter_bath
        - switch.candles
        - switch.cabinet_lights
        - switch.basement_fan
        - media_player.common_area_speaker
        - media_player.basement_speaker
        - media_player.laundry_speaker
        - media_player.kitchen_display
        - media_player.master_bedroom_tv
        - media_player.office_speaker
        - media_player.loft_display
        - media_player.second_bedroom_speaker
        - media_player.vizio_smartcast
        - input_boolean.entertainment
        - input_boolean.global


##########################################################
## Device Tracking
##########################################################


device_tracker:
  - platform: nmap_tracker
    hosts: 
      - !secret nmap_host1
      - !secret nmap_host2
    exclude:
     - !secret nmap_host_exclude 


##########################################################
## History & Recorder Settings
##########################################################


history: 
  include:
    domains:
      - light
      - media_player
      - person
      - sensor
      - binary_sensor
      - image_processing  
  exclude:
    entities:
      - sensor.yr_symbol
      - sun.sun
      - sensor.zigbee2mqtt_bridge_state
      - sensor.time
      - sensor.sunrise
      - sensor.sunset
      - sensor.date
      - sensor.custom_card_tracker

      
recorder:
#  db_url: !secret recorder_db
  include:
    domains:
      - light
      - media_player
      - person
      - sensor
      - binary_sensor
      - image_processing  
  exclude:
    entities:
      - sensor.yr_symbol
      - sun.sun
      - sensor.time
      - sensor.sunrise
      - sensor.sunset
      - sensor.date
      - sensor.custom_card_tracker
  purge_interval: 0

influxdb:
  database: hass_db
  username: !secret influxdb_username
  password: !secret influxdb_password
  include:
    domains:
      - light
      - media_player
      - person
      - sensor
      - binary_sensor
      - image_processing  
  exclude:
    entities:
      - sensor.yr_symbol
      - sun.sun
      - sensor.time
      - sensor.sunrise
      - sensor.sunset
      - sensor.date
      - sensor.custom_card_tracker


##########################################################
## Notifications
##########################################################


telegram_bot:
  - platform: polling
    api_key: !secret telegram_api
    allowed_chat_ids:
      - !secret chat_id


notify:
  - name: NOTIFIER_NAME
    platform: telegram
    chat_id: !secret chat_id


##########################################################
## TTS
##########################################################


tts:
  - platform: google_translate


##########################################################
## Home Assistant Custom Store (HACS)
##########################################################


hacs:
  token: !secret hacs_token


##########################################################
## Defaults
##########################################################


default_config:
stream:
ffmpeg:


##########################################################
## Logging
##########################################################


logger:
  default: info


##########################################################
## Discovery
##########################################################

discovery:
  ignore:
    - homekit

##########################################################
## Weather
##########################################################


weather:
  - platform: darksky
    api_key: !secret darksky_api
    mode: daily


##########################################################
## Include YAML's
##########################################################


group: !include groups.yaml
image_processing: !include image_processing.yaml
automation: !include automations.yaml
script: !include scripts.yaml
switch: !include_dir_merge_list switches/
sensor: !include_dir_merge_list sensors/
binary_sensor: !include_dir_merge_list binary_sensors/
zone: !include zones.yaml
light: !include_dir_merge_list lights/
yeelight: !include lights/yeelights.yaml
camera: !include_dir_merge_list cameras/
media_player: !include media_player.yaml
input_boolean: !include input_boolean.yaml
